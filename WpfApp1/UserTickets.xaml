<Window x:Class="UI.UserTickets"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Área do Utilizador"
        Height="650" Width="900"
        Background="#f2f2f2"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize">

    <Border CornerRadius="10" Background="White" Margin="20" Padding="20" BorderBrush="#ccc" BorderThickness="1">
        <Grid>

            <!-- Página Inicial -->
            <Grid x:Name="MainMenuGrid" Visibility="Visible">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Width="250">
                    <TextBlock Text="Bem-vindo!" FontSize="22" FontWeight="Bold" Foreground="#274360" Margin="0 0 0 20" HorizontalAlignment="Center"/>
                    <Button Content="Criar Ticket" Click="BtnCriarTicket_Click" Height="40" Margin="0,0,0,10"
                            Background="#274360" Foreground="White" BorderBrush="#274360"/>
                    <Button Content="Ver Tickets" Click="BtnVerTickets_Click" Height="40" Margin="0,0,0,10"
                            Background="#274360" Foreground="White" BorderBrush="#274360"/>
                    <Button Content="Logout" Click="BtnLogout_Click" Height="40"
                            Background="#d9534f" Foreground="White" BorderBrush="#d9534f"/>
                </StackPanel>
            </Grid>

            <!-- Página Criar Ticket -->
            <Grid x:Name="CriarTicketGrid" Visibility="Collapsed" Margin="10">
                <StackPanel Width="400" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="Tipo:"/>
                    <ComboBox x:Name="cbTipo" Margin="0,5" SelectionChanged="cbTipo_SelectionChanged">
                        <ComboBoxItem Content="Software"/>
                        <ComboBoxItem Content="Hardware"/>
                    </ComboBox>

                    <TextBlock Text="Tipo de Problema:"/>
                    <ComboBox x:Name="cbSubtipoProblema" Margin="0,5"/>

                    <TextBlock Text="Prioridade:"/>
                    <ComboBox x:Name="cbPrioridade" Margin="0,5">
                        <ComboBoxItem Content="Baixa"/>
                        <ComboBoxItem Content="Média"/>
                        <ComboBoxItem Content="Alta"/>
                    </ComboBox>

                    <TextBlock Text="Descrição:"/>
                    <TextBox x:Name="txtDescricao" Margin="0,5" Height="100" AcceptsReturn="True" TextWrapping="Wrap"/>

                    <Button Content="Submeter Ticket" Margin="0,10,0,5" Click="BtnSubmeter_Click"
                            Background="#274360" Foreground="White" BorderBrush="#274360"/>
                    <Button Content="← Voltar" Click="BtnVoltar_Click" Width="100"/>
                </StackPanel>
            </Grid>

            <!-- Página Ver Tickets -->
            <!-- Página Ver Tickets -->
            <Grid x:Name="VerTicketsGrid" Visibility="Collapsed" Margin="10">
                <StackPanel Orientation="Vertical">

                    <!-- Filtros -->
                    <StackPanel Margin="0,0,0,10">
                        <WrapPanel Margin="0,0,0,10">
                            <TextBlock Text="Tipo:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                            <ComboBox x:Name="cbFiltroTipo" Width="100" Margin="0,0,10,0">
                                <ComboBoxItem Content="Todos" IsSelected="True"/>
                                <ComboBoxItem Content="Software"/>
                                <ComboBoxItem Content="Hardware"/>
                            </ComboBox>

                            <TextBlock Text="Prioridade:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                            <ComboBox x:Name="cbFiltroPrioridade" Width="100" Margin="0,0,10,0">
                                <ComboBoxItem Content="Todas" IsSelected="True"/>
                                <ComboBoxItem Content="Alta"/>
                                <ComboBoxItem Content="Média"/>
                                <ComboBoxItem Content="Baixa"/>
                            </ComboBox>
                            <TextBlock Text="Estado:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                            <ComboBox x:Name="cbFiltroEstado" Width="100" Margin="0,0,10,0">
                                <ComboBoxItem Content="Todos" IsSelected="True"/>
                                <ComboBoxItem Content="Aberto"/>
                                <ComboBoxItem Content="Resolvido"/>
                                <ComboBoxItem Content="Não Resolvido"/>
                            </ComboBox>

                            <TextBlock Text="Ordenar por:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                            <ComboBox x:Name="cbOrdenarPor" Width="120" Margin="0,0,10,0">
                                <ComboBoxItem Content="ID Ascendente" IsSelected="True"/>
                                <ComboBoxItem Content="ID Descendente"/>
                                <ComboBoxItem Content="Data Ascendente"/>
                                <ComboBoxItem Content="Data Descendente"/>
                            </ComboBox>

                            <Button Content="Aplicar Filtros" Click="BtnAplicarFiltros_Click" Width="120"
                             Background="#274360" Foreground="White" BorderBrush="#274360"/>

                        </WrapPanel>

                    </StackPanel>

                    <!-- Lista de Tickets -->
                    <ScrollViewer Height="400">
                        <ItemsControl x:Name="icTickets" Margin="0,0,0,10">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Background="#f9f9f9"
                CornerRadius="8"
                BorderBrush="#ccc"
                BorderThickness="1"
                Padding="15"
                Margin="0,0,0,10"
                Height="80">
                                        <DockPanel LastChildFill="False" VerticalAlignment="Center">
                                            <!-- Informações do ticket -->
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" DockPanel.Dock="Left" VerticalAlignment="Center">
                                                <TextBlock Text="ID: " FontWeight="Bold" Margin="0,0,5,0"/>
                                                <TextBlock Text="{Binding Id}" Margin="0,0,15,0"/>

                                                <TextBlock Text="Tipo: " FontWeight="Bold" Margin="0,0,5,0"/>
                                                <TextBlock Text="{Binding Tipo}" Margin="0,0,15,0"/>

                                                <TextBlock Text="Prioridade: " FontWeight="Bold" Margin="0,0,5,0"/>
                                                <TextBlock Text="{Binding Prioridade}" Margin="0,0,15,0"/>

                                                <TextBlock Text="Estado: " FontWeight="Bold" Margin="0,0,5,0"/>
                                                <TextBlock Text="{Binding EstadoTicket}" Margin="0,0,15,0"/>

                                                <TextBlock Text="Criado em: " FontWeight="Bold" Margin="0,0,5,0"/>
                                                <TextBlock Text="{Binding DataCriacao, StringFormat=dd/MM/yyyy HH:mm}"/>
                                            </StackPanel>

                                            <!-- Botão à direita -->
                                            <Button Content="Ver Detalhes"
                        Background="#274360"
                        Foreground="White"
                        BorderBrush="#274360"
                        Padding="5"
                        Width="120"
                        VerticalAlignment="Center"
                        Click="BtnVerDetalhes_Click"
                        DockPanel.Dock="Right"/>
                                        </DockPanel>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>

                        </ItemsControl>
                    </ScrollViewer>

                    <Button Content="← Voltar" Click="BtnVoltar_Click" Width="100" HorizontalAlignment="Right"/>
                </StackPanel>
            </Grid>
        </Grid>
    </Border>
</Window>
